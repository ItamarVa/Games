<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Memory Showdown</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Phase 0: Player Names Input -->
    <div id="nameInputPhase" class="game-phase">
        <div class="name-input-container">
            <h1>Fashion Memory Showdown</h1>
            <div class="name-input-form">
                <div class="input-group">
                    <label for="player1NameInput">Player 1 Name:</label>
                    <input type="text" id="player1NameInput" placeholder="Enter Player 1 name" maxlength="20">
                </div>
                <div class="input-group">
                    <label for="player2NameInput">Player 2 Name:</label>
                    <input type="text" id="player2NameInput" placeholder="Enter Player 2 name" maxlength="20">
                </div>
                <div class="input-group">
                    <label>
                        <input type="checkbox" id="useAICheckbox"> Use AI Player 2
                    </label>
                </div>
                <button onclick="startGameWithNames()" class="btn-primary">Start Game</button>
            </div>
        </div>
    </div>

    <!-- Phase 0.5: Animation Intro -->
    <div id="introPhase" class="game-phase hidden">
        <div class="fashion-show-intro">
            <h1>Fashion Memory Showdown</h1>
            <div class="models-container">
                <div class="model" data-item="dress">üëó</div>
                <div class="model" data-item="shoes">üë†</div>
                <div class="model" data-item="hat">üëí</div>
                <div class="model" data-item="bag">üëú</div>
                <div class="model" data-item="glasses">üï∂Ô∏è</div>
                <div class="model" data-item="jewelry">üíç</div>
            </div>
            <p class="intro-text">Get ready to match fashion items!</p>
        </div>
    </div>

    <!-- Phase 1: Memory Game -->
    <div id="memoryPhase" class="game-phase hidden">
        <div class="phase-container">
            <div class="phase-header">
                <h2>Phase 1: Memory Game</h2>
                <div class="player-info">
                    <div class="player-indicator active" id="player1Indicator">
                        <span id="player1NameDisplay">Player 1</span>
                        <div class="score">Matches: <span id="player1Matches">0</span></div>
                    </div>
                    <div class="player-indicator" id="player2Indicator">
                        <span id="player2NameDisplay">Player 2</span>
                        <div class="score">Matches: <span id="player2Matches">0</span></div>
                    </div>
                </div>
            </div>
            <div class="memory-game-container">
                <div id="memoryGrid" class="memory-grid"></div>
            </div>
        </div>
    </div>

    <!-- Phase 1.5: Transition Screen -->
    <div id="transitionPhase" class="game-phase hidden">
        <div class="transition-container">
            <h2>Phase 1 Complete!</h2>
            <div class="collections-display">
                <div class="player-collection">
                    <h3>Player 1's Collection</h3>
                    <div id="transitionPlayer1Items" class="collection-items"></div>
                </div>
                <div class="player-collection">
                    <h3 id="transitionPlayer2Title">Player 2's Collection</h3>
                    <div id="transitionPlayer2Items" class="collection-items"></div>
                </div>
            </div>
            <button id="continueToPhase2" onclick="continueToPhase2()" class="btn-primary">Continue to Phase 2</button>
        </div>
    </div>

    <!-- Phase 2: Trading -->
    <div id="tradingPhase" class="game-phase hidden">
        <div class="phase-container">
            <div class="phase-header">
                <h2>Phase 2: Trading</h2>
            </div>
        
        <!-- Trading Section -->
        <div class="trading-section">
            <h3>Trading</h3>
            <div class="players-inventory">
                <div class="player-inventory">
                    <h4>Player 1's Items</h4>
                    <div id="player1Inventory" class="inventory-grid"></div>
                    <button class="btn-trade" onclick="initiateTrade(1)">Propose Trade</button>
                </div>
                <div class="player-inventory">
                    <h4 id="player2InventoryTitle">Player 2's Items</h4>
                    <div id="player2Inventory" class="inventory-grid"></div>
                    <button class="btn-trade" onclick="initiateTrade(2)">Propose Trade</button>
                </div>
            </div>
            <div id="tradeModal" class="modal hidden">
                <div class="modal-content">
                    <h3>Propose Trade</h3>
                    <div class="trade-selection">
                        <div>
                            <h4>Your Items:</h4>
                            <div id="tradeYourItems" class="trade-items"></div>
                        </div>
                        <div>
                            <h4>Their Items:</h4>
                            <div id="tradeTheirItems" class="trade-items"></div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button onclick="proposeTrade()" class="btn-primary">Propose Trade</button>
                        <button onclick="cancelTrade()" class="btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Pending Trade Display -->
            <div id="pendingTradeDisplay" class="pending-trade hidden">
                <h4>Pending Trade Proposal</h4>
                <div class="pending-trade-content">
                    <div>
                        <h5 id="pendingTradeProposer"></h5>
                        <div id="pendingTradeYourItems" class="trade-items-display"></div>
                    </div>
                    <div class="trade-arrow">‚áÑ</div>
                    <div>
                        <h5 id="pendingTradeReceiver"></h5>
                        <div id="pendingTradeTheirItems" class="trade-items-display"></div>
                    </div>
                </div>
                <div class="pending-trade-actions">
                    <button onclick="approveTrade()" class="btn-primary" id="approveTradeBtn">Approve Trade</button>
                    <button onclick="rejectTrade()" class="btn-secondary">Reject Trade</button>
                </div>
            </div>
            
            <button id="skipTrading" onclick="skipTrading()" class="btn-primary">Skip Trading & Continue</button>
        </div>

            <button id="continueToFitting" onclick="continueToFitting()" class="btn-primary hidden">Continue to Phase 3</button>
        </div>
    </div>

    <!-- Phase 3: Outfit Creation -->
    <div id="fittingPhase" class="game-phase hidden">
        <div class="phase-container">
            <div class="phase-header">
                <h2>Phase 3: Create Your Outfits</h2>
            </div>
            <div class="outfit-section">
            <!-- Inventory Display -->
            <div class="fitting-inventories">
                <div class="fitting-inventory">
                    <h4 id="fittingInventory1Title">Player 1's Items</h4>
                    <div id="fittingPlayer1Inventory" class="inventory-grid"></div>
                </div>
                <div class="fitting-inventory">
                    <h4 id="fittingInventory2Title">Player 2's Items</h4>
                    <div id="fittingPlayer2Inventory" class="inventory-grid"></div>
                </div>
            </div>
            
            <div class="outfit-creation-area">
                <div class="player-outfit-area">
                    <h4 id="fittingPlayer1Title">Player 1's Outfits</h4>
                    <div id="player1Outfits" class="outfits-container"></div>
                    <div class="outfit-slot" id="player1OutfitSlot">
                        <p>Drag items onto the model to create outfits</p>
                        <div class="outfit-items" id="player1OutfitItems">
                            <div class="model-base">üë©</div>
                        </div>
                        <button onclick="saveOutfit(1)" class="btn-save">Save Outfit</button>
                    </div>
                </div>
                <div class="player-outfit-area">
                    <h4 id="fittingPlayer2Title">Player 2's Outfits</h4>
                    <div id="player2Outfits" class="outfits-container"></div>
                    <div class="outfit-slot" id="player2OutfitSlot">
                        <p>Drag items onto the model to create outfits</p>
                        <div class="outfit-items" id="player2OutfitItems">
                            <div class="model-base">üë©</div>
                        </div>
                        <button onclick="saveOutfit(2)" class="btn-save">Save Outfit</button>
                    </div>
                </div>
            </div>
            <button id="continueToVoting" onclick="continueToVoting()" class="btn-primary hidden">Continue to Phase 4</button>
        </div>
    </div>

    <!-- Phase 4: Voting -->
    <div id="fashionShowPhase" class="game-phase hidden">
        <div class="phase-container">
            <div class="phase-header">
                <h2>Phase 4: Fashion Show Voting</h2>
            </div>
        <div class="fashion-show-container">
            <div id="currentOutfit" class="current-outfit-display">
                <h3 id="outfitOwner"></h3>
                <div id="outfitDisplay" class="outfit-display">
                    <div class="model-base-large">üë©</div>
                </div>
                <div class="rating-section">
                    <h4 id="ratingTitle">Rate this outfit:</h4>
                    <div class="current-rater-display">
                        <div class="rater-indicator" id="currentRaterIndicator"></div>
                    </div>
                    <div class="stars-rating">
                        <span class="star" data-rating="1">‚≠ê</span>
                        <span class="star" data-rating="2">‚≠ê</span>
                        <span class="star" data-rating="3">‚≠ê</span>
                        <span class="star" data-rating="4">‚≠ê</span>
                        <span class="star" data-rating="5">‚≠ê</span>
                    </div>
                    <p id="ratingInstruction">Player 1, rate this outfit</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Phase 5: Results -->
    <div id="resultsPhase" class="game-phase hidden">
        <div class="phase-container">
            <div class="results-container">
                <h2>Phase 5: Final Scores</h2>
            <div class="scores-display">
                <div class="player-score">
                    <h3 id="finalPlayer1Name">Player 1</h3>
                    <div class="score-value" id="player1FinalScore">0</div>
                </div>
                <div class="player-score">
                    <h3 id="finalPlayer2Name">Player 2</h3>
                    <div class="score-value" id="player2FinalScore">0</div>
                </div>
            </div>
            <div id="winnerAnnouncement" class="winner-announcement"></div>
            <div id="fireworks" class="fireworks"></div>
            <div class="restart-buttons">
                <button onclick="restartGame()" class="btn-primary">Play Again</button>
                <button onclick="window.location.href='index.html'" class="btn-secondary">Return to Menu</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>

